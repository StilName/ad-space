"use strict";const header=document.querySelector(".header"),wrapper=document.querySelector(".wrapper"),burgerMenu=document.querySelector(".header__burger-menu"),bodyMenu=document.querySelector(".nav"),body=document.querySelector(".body");if(document.querySelector(".index")){const e=document.querySelector(".offer-video"),t=document.querySelector(".offer-video-mobile"),o=document.querySelector(".about-us"),s=document.querySelector(".our-plus"),n=document.querySelectorAll(".our-plus__block-text");let l=n[0],i=n[1];const a=document.querySelectorAll(".about-us__track-player audio"),r=document.querySelectorAll(".about-us__track-play"),c=document.querySelector(".about-us__track-player"),d=document.querySelector(".about-us__btn .next"),g=document.querySelector(".about-us__btn .prev"),f=document.querySelector(".about-us__wrapper"),u=document.querySelector(".about-us__line"),h=document.querySelectorAll(".about-us__about-performer"),p=document.querySelectorAll(".our-questions__question-top"),y=document.querySelectorAll(".our-questions__question-answer"),w=document.querySelector(".singers-and-streams__btn .next"),m=document.querySelector(".singers-and-streams__btn .prev"),v=(document.querySelector(".singers-and-streams__wrapper"),document.querySelector(".singers-and-streams__line")),L=document.querySelectorAll(".singers-and-streams__slide-singer"),b=document.querySelector(".singers-and-streams__singer"),_=document.querySelector(".singers-and-streams__stream"),S=document.querySelector(".releases__btn .next"),q=document.querySelector(".releases__btn .prev"),H=(document.querySelector(".releases__wrapper"),document.querySelector(".releases__line")),E=document.querySelectorAll(".releases__slide-release");console.log(E);let O=["Локви","РуШ","GUCCIMOGUCCI","HAEBAL","NOVSKII","KANTYLUV"],k=["18 <span>млн</span>","25 <span>млн</span>","2,3 <span>млн</span>","3,5 <span>млн</span>","2 <span>млн</span>","4 <span>млн</span>"],Y=1,A=0,C=1,I=1;function Change(e,t,o,s,n){e.innerHTML=o[n-1],t.innerHTML=s[n-1]}e.addEventListener("ended",function(){e.style.display="none",t.style.display="none",e.parentElement.style.opacity="1",t.removeAttribute("autoplay")}),t.addEventListener("ended",function(){t.style.display="none",e.style.display="none",t.parentElement.style.opacity="1",e.removeAttribute("autoplay")}),window.screen.width<992||window.screen.width,window.addEventListener("load",()=>{window.screen.width<992||window.screen.width}),window.addEventListener("resize",()=>{window.screen.width<=992||window.screen.width}),document.querySelectorAll(".about-us__about-performer")&&(h[A].style.opacity="1");for(let e=0;e<r.length;e++){function playSong(){for(let e=0;e<r.length;e++)r[e],c.classList.remove("sound"),a[e].pause(),r[e].src="img/play.svg";c.classList.add("sound"),a[e].play(),r[e].src="img/pause-button.svg"}function pauseSong(){c.classList.remove("sound"),a[e].pause(),r[e].src="img/play.svg"}let t=r[e];t.addEventListener("click",()=>{c.classList.contains("sound")?(pauseSong(e),t.src="img/play.svg"):(playSong(e),t.src="img/pause-button.svg")})}function appearElement(e){for(let t=0;t<e.children.length;t++){let o=e.children[t].getBoundingClientRect().top+window.pageYOffset-header.offsetHeight;if(console.log(e.children[t]),console.log(o),o<=window.pageYOffset+window.screen.height-e.children[t].offsetHeight/2-header.offsetHeight&&window.pageYOffset+window.screen.height-header.offsetHeight<=o+e.children[t].offsetHeight||o<=window.pageYOffset-e.children[t].offsetHeight/2-header.offsetHeight&&window.pageYOffset-header.offsetHeight<=o+e.children[t].offsetHeight){e.children[t].classList.add("up-animation");break}}}function appearElement2(e){let t=e.getBoundingClientRect().top+window.pageYOffset-header.offsetHeight;if(console.log(e),console.log(t),t<=window.pageYOffset+window.screen.height-e.offsetHeight/2-header.offsetHeight&&window.pageYOffset+window.screen.height-header.offsetHeight<=t+e.offsetHeight||t<=window.pageYOffset-e.offsetHeight/2-header.offsetHeight&&window.pageYOffset-header.offsetHeight<=t+e.offsetHeight){e.classList.add("up-animation");for(let t=0;t<e.children.length;t++)e.children[t].classList.add("up-animation")}else if(s.children[1].classList.contains("up-animation")){s.children[2].classList.add("up-animation");for(let t=0;t<e.children.length;t++)e.children[t].classList.add("up-animation")}}for(let e=0;e<h.length;e++)console.log(f.offsetWidth),h[e].style.width="100%";function showSlide(e,t,o,s,n,l){console.log(e),e.addEventListener("click",function(){for(let e=0;e<s.length;e++)s[e].style.opacity="0";++o>s.length-1&&(o=0),s[o].style.opacity="1",n.style.transform=`translateX(-${100*o}%)`,n.style.height=`${s[o].ClientHeight}px`,console.log(`${s[o].ClientHeight}px`),console.log(`translate(${o*s[o].offsetWidth} + px)`)}),t.addEventListener("click",function(){for(let e=0;e<s.length;e++)s[e].style.opacity="0";--o<0&&(o=s.length-1),s[o].style.opacity="1",n.style.transform=`translateX(-${100*o}%)`,n.height=`${s[o].ClientHeight}`,console.log(`translateX(${l.offsetWidth*o}px)`),console.log(`translate(${o*s[o].offsetWidth}px)`)})}if(showSlide(d,g,A,h,u,f),p.length>0)for(let e=0;e<p.length;e++){const t=p[e];t.addEventListener("click",function(o){console.log(y);const s=y[e];s.classList.toggle("active"),t.classList.toggle("active"),s.classList.contains("active")?t.style.margin="0 0 0 0":t.style.margin="0 0 50px 0"})}function showSlideA(e,t,o,s,n){function l(e,t,o,s,n){if(s);else{}console.log(s),o>s.length&&(o=1),o<1&&(o=s.length);for(let e of s)e.style.display="none";if(s[o-1].style.display="block",console.log(s.length),o-1+1<s.length){for(let e=0;e<s.length;e++)s[e].classList.remove("slide-following");s[o-1+1].classList.add("slide-following")}else for(let e=0;e<s.length;e++)s[e].classList.remove("slide-following");if(o-2>=0)s[o-2].classList.add("slide-lost"),s[o-2].style.display="block";else for(let e=0;e<L.length;e++)s[e].classList.remove("slide-lost");s[o-1].classList.remove("slide-following"),s[o-1].classList.remove("slide-lost"),Change(b,_,O,k,o)}console.log(e),l(e,t,o,s,n),e.addEventListener("click",function(){o>s.length&&(o=1),l(e,t,++o,s,n)}),t.addEventListener("click",function(){o<1&&(o=s.length),l(e,t,--o,s,n),console.log(o)})}console.log(S),showSlideA(S,q,C,E,H),showSlideA(w,m,Y,L,v);const M=document.querySelectorAll("[data-goto]");if(console.log(M),M.length>0){function onScrolLinkClick(e){const t=e.target;t.dataset.goto;if(t.dataset.goto){body.classList.contains("active")&&(body.style.overflow="auto",wrapper.style.overflow="auto");const o=document.getElementById(`${t.dataset.goto}`);console.log(o);const s=o.getBoundingClientRect().top+window.pageYOffset-header.offsetHeight;console.log(window.pageYOffset),window.scrollTo({top:s,behavior:"smooth"}),burgerMenu.classList.remove("active"),bodyMenu.classList.remove("active"),body.classList.remove("active"),wrapper.style.overflow="hidden",body.classList.contains("active")&&(body.style.overflow="hidden"),e.preventDefault()}}M.forEach(e=>{e.addEventListener("click",onScrolLinkClick)})}function targetPlaceOnPage(){for(let e=0;e<M.length;e++){body.classList.contains("active")&&(body.style.overflow="auto",wrapper.style.overflow="auto");for(let e=0;e<M.length;e++)M[e].classList.remove("targetItem"),console.log(M[e]);let t=document.getElementById(`${M[e].dataset.goto}`);console.log(t.getBoundingClientRect().top);let o=t.getBoundingClientRect().top+window.pageYOffset-header.offsetHeight;if(console.log(M[M.length-1].dataset.goto),t==document.getElementById(M[M.length-1].dataset.goto)&&o-t.offsetHeight<=window.pageYOffset&&window.pageYOffset<=o+t.offsetHeight/1){M[e].classList.add("targetItem"),console.log(o),body.classList.contains("active")&&(body.style.overflow="hidden",wrapper.style.overflow="hidden");break}if(t==document.getElementById(M[2].dataset.goto)&&o-t.offsetHeight<=window.pageYOffset&&window.pageYOffset<=o+t.offsetHeight/1.2){M[e].classList.add("targetItem"),console.log(o),body.classList.contains("active")&&(body.style.overflow="hidden",wrapper.style.overflow="hidden");break}if(o-t.offsetHeight/2<=window.pageYOffset&&window.pageYOffset<=o+t.offsetHeight/2){M[e].classList.add("targetItem"),console.log(o),console.log(window.scrollY),console.log(M),body.classList.contains("active")&&(body.style.overflow="hidden",wrapper.style.overflow="hidden");break}}}M[0].classList.add("targetItem"),window.addEventListener("scroll",()=>{console.log(window.scrollY-header.offsetHeight),targetPlaceOnPage(),console.log(o.children),appearElement(o),appearElement(s);for(let e=0;I<n.length;I++)appearElement(n[e]);appearElement2(l),appearElement2(i)})}burgerMenu.addEventListener("click",function(){burgerMenu.classList.toggle("active"),bodyMenu.classList.toggle("active"),body.classList.toggle("active"),body.classList.contains("active")||(body.style.overflow="auto")}),window.addEventListener("resize",()=>{window.screen.width>992&&(burgerMenu.classList.remove("active"),bodyMenu.classList.remove("active"),body.classList.remove("active"))});
